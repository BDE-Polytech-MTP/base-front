<mat-card class="register-form">
    <form [formGroup]="confirmForm" (ngSubmit)="finishRegitration()">
        <mat-list>
            <mat-list-item>
                <mat-card-header>
                    <mat-card-title>Finalisation de votre inscription</mat-card-title>
                    <mat-card-subtitle *ngIf="bde.name.length">BDE de {{bde.name}}</mat-card-subtitle>
                    <mat-card-subtitle *ngIf="!bde.name">BDE</mat-card-subtitle>
                </mat-card-header>
            </mat-list-item>

            <mat-card-content>

                <mat-list-item>
                    <mat-form-field appearance="fill" hideRequiredMarker="true">
                        <mat-label>Email</mat-label>
                        <input type="email" matInput required formControlName="email" name="email" disabled>
                    </mat-form-field>
                </mat-list-item>

                <mat-list-item>
                    <mat-form-field appearance="fill" hideRequiredMarker="true">
                        <mat-label>Prénom</mat-label>
                        <input matInput required formControlName="firstname" name="firstname" minlength="2" maxlength="15">
                    </mat-form-field>
                </mat-list-item>

                <mat-list-item>
                    <mat-form-field appearance="fill" hideRequiredMarker="true">
                        <mat-label>Nom de famille</mat-label>
                        <input matInput required formControlName="lastname" name="lastname" minlength="2" maxlength="15">
                    </mat-form-field>
                </mat-list-item>

                <mat-list-item>
                    <mat-form-field appearance="fill" hideRequiredMarker="true">
                        <mat-label>Spécialité</mat-label>
                        <mat-select required formControlName="specialty">
                            <mat-option *ngFor="let specialty of bde.specialties.sort()" [value]="specialty">
                                {{specialty}}
                              </mat-option>
                        </mat-select>
                    </mat-form-field>
                </mat-list-item>
            </mat-card-content>

            <mat-list-item>
                <mat-form-field appearance="fill" hideRequiredMarker="true">
                    <mat-label>Mot de passe</mat-label>
                    <input type="password" matInput required formControlName="password" name="password" minlength="10">
                </mat-form-field>
            </mat-list-item>

            <mat-list-item>
                <mat-form-field appearance="fill" hideRequiredMarker="true">
                    <mat-label>Confirmation du mot de passe</mat-label>
                    <input type="password" matInput required formControlName="passwordConfirm" name="passwordConfirm">
                </mat-form-field>
            </mat-list-item>

            <mat-list-item *ngIf="error">
                <h2 mat-subheader  class="error">{{ error }}</h2>
            </mat-list-item>
            
            <mat-list-item>
                    <button [disabled]="submitting || !confirmForm.valid" type="submit" mat-flat-button color="primary">
                        {{submitting ? 'Envoie en cours ...' : 'Finaliser l\'inscription'}}
                    </button>
            </mat-list-item>

        </mat-list>  
    </form>
</mat-card>