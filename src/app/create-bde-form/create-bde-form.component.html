<mat-card class="create-bde-form">
    <form>
        <mat-list class="create-bde-fields-list" cdkDropList (cdkDropListDropped)="drop($event)" cdkDropListLockAxis="y">
            <mat-list-item>
                <mat-card-title>Création d'un BDE</mat-card-title>
            </mat-list-item>

            <mat-card-content>

                <mat-list-item>
                    <mat-form-field appearance="fill" hideRequiredMarker="true">
                        <mat-label>Ville du BDE</mat-label>
                        <input type="text" matInput required [(ngModel)]="bdeName" name="name">
                    </mat-form-field>
                </mat-list-item>

                <mat-list-item>
                    <h2 mat-subheader>Spécialités :</h2>
                </mat-list-item>

                <mat-list-item>
                    <button mat-stroked-button (click)="openSpecialtyDialog()">Ajouter une spécialité</button>
                </mat-list-item>
                
                <mat-list-item cdkDrag *ngFor="let spe of specialties">
                    <div class="specialty-list-item">
                        <div cdkDragHandle>
                            {{spe.name}} ({{spe.minYear}}A à {{spe.maxYear}}A)
                        </div>
                        <button mat-mini-fab color="warn" (click)="deleteSpecialty(spe.name)">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </div>
                </mat-list-item>

                <mat-list-item *ngIf="error || success">
                    <h2 mat-subheader  [class]="error ? 'error' : 'success'">{{ error || success}}</h2>
                </mat-list-item>

                <mat-list-item>
                        <button 
                            mat-flat-button 
                            color="primary" 
                            (click)="sendCreationRequest()" 
                            [disabled]="bdeName.trim().length === 0 || sending"
                        >{{ sending ? 'Envoi en cours ...' : 'Créer le BDE' }}</button>    
                </mat-list-item>
                
            </mat-card-content>

        </mat-list>  
    </form>
</mat-card>